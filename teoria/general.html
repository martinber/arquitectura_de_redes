

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>General &mdash; documentación de Arquitectura de Redes - </title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="../genindex.html"/>
        <link rel="search" title="Búsqueda" href="../search.html"/>
    <link rel="top" title="documentación de Arquitectura de Redes - " href="../index.html"/>
        <link rel="up" title="Teoría" href="index.html"/>
        <link rel="next" title="Ethernet" href="ethernet.html"/>
        <link rel="prev" title="Teoría" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Arquitectura de Redes
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Teoría</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#principal">Principal</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">General</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#capas">Capas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tamanos">Tamaños</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagramas-de-flujo">Diagramas de flujo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#internet">Internet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial">Serial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resumen-headers">Resumen headers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ruteo">Ruteo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ethernet.html">Ethernet</a></li>
<li class="toctree-l3"><a class="reference internal" href="arp.html">ARP</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipv4.html">IPv4</a></li>
<li class="toctree-l3"><a class="reference internal" href="icmpv4.html">ICMPv4</a></li>
<li class="toctree-l3"><a class="reference internal" href="nat.html">NAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="dhcp.html">DHCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="vlan.html">VLAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipv6.html">IPv6</a></li>
<li class="toctree-l3"><a class="reference internal" href="icmpv6.html">ICMPv6</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcp.html">TCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="udp.html">UDP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#wan-y-ruteo">WAN y ruteo</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#capa-aplicacion-y-otros">Capa aplicación y otros</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../practica/index.html">Práctica</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Arquitectura de Redes</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Teoría</a> &raquo;</li>
        
      <li>General</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/teoria/general.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general">
<h1>General<a class="headerlink" href="#general" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Por hacer</p>
<p class="last">Reordenar y poner cosas en otros documentos. Ver como separar IPV4 de
IPV6. Hablar sobre RFCs y estandarización.</p>
</div>
<div class="section" id="capas">
<h2>Capas<a class="headerlink" href="#capas" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li>Capa física.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Unidad: Símbolos, Bits.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Capa de enlace.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Unidad: Trama.</li>
<li>Protocolos: Ethernet, PPP, HDLC, PPPoE (aunque esté dentro de Ethernet).</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>Capa de red.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Unidad: Paquete.</li>
<li>Protocolos: IP, ARP, ICMP (aunque esté dentro de IP).</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>Capa de transporte.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Unidad: Segmento (TCP), Datagrama (UDP).</li>
<li>Protocolos: TCP, UDP</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>Capa de aplicación.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Unidad: Datos</li>
<li>Protocolos: DHCP, HTTP.</li>
</ul>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="26%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">OSI</th>
<th class="head">TCP/IP</th>
<th class="head">Lo que usamos</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><ol class="first last arabic simple" start="7">
<li>Aplicación</li>
</ol>
</td>
<td rowspan="3">Aplicación</td>
<td rowspan="3"><ol class="first last arabic simple" start="5">
<li>Aplicación</li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><ol class="first last arabic simple" start="6">
<li>Presentación</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><ol class="first last arabic simple" start="5">
<li>Sesión</li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><ol class="first last arabic simple" start="4">
<li>Transporte</li>
</ol>
</td>
<td>Transporte</td>
<td><ol class="first last arabic simple" start="4">
<li>Transporte</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><ol class="first last arabic simple" start="3">
<li>Red</li>
</ol>
</td>
<td>Internet</td>
<td><ol class="first last arabic simple" start="3">
<li>Red</li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><ol class="first last arabic simple" start="2">
<li>Enlace</li>
</ol>
</td>
<td rowspan="2">Acceso a
la red</td>
<td><ol class="first last arabic simple" start="2">
<li>Enlace</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><ol class="first last arabic simple">
<li>Física</li>
</ol>
</td>
<td><ol class="first last arabic simple">
<li>Física</li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tamanos">
<h2>Tamaños<a class="headerlink" href="#tamanos" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li>Tamaños de cabeceras<ul>
<li>Ethernet:<ul>
<li>Sin contar preámbulo ni CRC: 14 bytes.</li>
<li>Sin contar preámbulo y contando CRC: 18 bytes.</li>
<li>Contando preámbulo y CRC: 26 bytes.</li>
<li>Si incluye tags (VLAN): + 4 bytes.</li>
</ul>
</li>
<li>ARP: 28 bytes.</li>
<li>IP: 20 bytes.</li>
<li>ICMP: 8 bytes.</li>
<li>PPPoE: 6 bytes.</li>
<li>PPP:<ul>
<li>Sin contar flags (delimitadores) ni FCS: 4 bytes.</li>
<li>Sin contar flags (delimitadores) pero sí FCS: 6 bytes.</li>
<li>Contando flags (delimitadores) y FCS: 8 bytes.</li>
<li>Dentro de PPPoE solo lleva el campo Protocol: 2 bytes.</li>
</ul>
</li>
<li>DHCP:<ul>
<li>Sin contar SNAME, ni FILE, ni opciones: 44 bytes.</li>
</ul>
</li>
</ul>
</li>
<li>Tamaños de tramas:<ul>
<li>Longitud total máxima de datos que puede llevar Ethernet es 1500 bytes, que
sumado al header, CRC y preambulo Ethernet dan 1526 bytes por trama.</li>
<li>Restando los 20 bytes de header IP, la cantidad máxima que puede llevar IP
es 1480 bytes. Esto es suponiendo que no hay opciones en el header, en tal
caso éstas opciones pueden ocupar hasta 32 bytes más.</li>
<li>Las tramas Ethernet que llevan un poco más de 1500 bytes se llaman <strong>baby
giant</strong>.</li>
<li>Los <strong>jumbo frames</strong> Ethernet llevan hasta 9000 bytes de datos, son
soportados por placas Gigabit, pero la mayoría de los ISP no los aceptan.</li>
<li>PPPoE:<ul>
<li>PPPoE va dentro de Ethernet, después del header PPPoE va el header PPP y
después va el paquete IP. Por lo tanto, si el MTU de Ethernet es 1500, lo
máximo que puede llevarse de datos es <code class="docutils literal"><span class="pre">1500</span> <span class="pre">-</span> <span class="pre">6</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">=</span> <span class="pre">1492</span> <span class="pre">bytes</span></code>.</li>
<li>Dentro de PPPoE va IP, por lo tanto hay que restar 20 bytes más para saber
cuántos bytes entran en IP: 1472 bytes.</li>
</ul>
</li>
<li>Al usar VLAN, el header Ethernet aumenta en 4 bytes pero sigue teniendo un
MTU de 1500.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="diagramas-de-flujo">
<h2>Diagramas de flujo<a class="headerlink" href="#diagramas-de-flujo" title="Enlazar permanentemente con este título">¶</a></h2>
<p>ICMP con primero un ARP:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>192.168.0.100                  192.168.0.102                  broadcast

                                ARP request
             ------------------------------------------------&gt;
                 ARP reply
             &lt;----------------
                ICMP request
             ----------------&gt;
                ICMP reply
             &lt;----------------
                ICMP request
             ----------------&gt;
                ICMP reply
             &lt;----------------
</pre></div>
</div>
</div>
<div class="section" id="internet">
<h2>Internet<a class="headerlink" href="#internet" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Algunas definiciones:</p>
<ul class="simple">
<li>ISP: Internet Service Provider.</li>
<li>NSP: National Service Provider.</li>
<li>NAP: Network Access Point.</li>
<li>CABASE: Cámara Argentina de Internet.</li>
<li>ICANN: Internet Corporation for Assigned Names and Numbers, coordina la
asignación de DNS, direcciones IP y sistemas autónomos.</li>
<li>IANA: Internet Assigned Numbers Authority, es la autoridad que asigna nombes
de dominio, direcciones IP y sistemas autónomos. En este momento a esta
función la posee el ICANN.</li>
<li>RIR: Regional Internet Registry, organización que asigna direcciones IP y
números de sistemas autónomos en una región:<ul>
<li>ARIN: Estados Unidos, Canadá.</li>
<li>RIPE NCC: Europa, medio oriente y Asia central</li>
<li>APNIC: Asia y Pacífico.</li>
<li>LACNIC: Latin American and Caribbean Internet Addresses Registry.</li>
<li>AfriNIC: África.</li>
</ul>
</li>
<li>AS: Sistema Autónomo, un conjunto de routers y redes bajo una misma
administración, se identifican por un número de 16 bits.</li>
<li>IETF: Internet Engineering Task Force, se encarga de crear los estándares RFC.</li>
<li>RFC: Request For Comments, para que un protocolo se estandarice tiene que
estár publicado en una RFC, pero no todos los RFC son estándares. Son
publicados por la IETF.</li>
</ul>
</div>
<div class="section" id="serial">
<h2>Serial<a class="headerlink" href="#serial" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se puede usar HDLC o PPPoE. El cable tiene dos extremos:</p>
<ul class="simple">
<li>DSE: (Hembra), Configura velocidad.</li>
<li>DTE: (Macho).</li>
</ul>
</div>
<div class="section" id="resumen-headers">
<h2>Resumen headers<a class="headerlink" href="#resumen-headers" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para comparar un poco los tamaños, todos ocupan 1 byte por renglón, excepto DHCP
que es tan grande que lo dibujé a 4 bytes por renglón.</p>
<img alt="../_images/headers.jpg" src="../_images/headers.jpg" />
</div>
<div class="section" id="ruteo">
<h2>Ruteo<a class="headerlink" href="#ruteo" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li>Una ruta es un prefijo más el próximo salto.</li>
<li>Hay dos funciones básicas:<ul>
<li>RIB (Routing Information Base): Para determinación de ruta.</li>
<li>FIB (Forwarding Information Base): Para conmutación de paquetes, la
información que tiene deriva de las mejores rutas de la RIB.</li>
</ul>
</li>
<li>Las tablas de ruteo indican el próximo salto. Si hay varias rutas que
contienen a la dirección de destino, se elige la ruta que tiene la máscara más
larga.</li>
<li>Si tienen la misma longitud de máscara se elige la ruta con menor distancia
administrativa que depende del protocolo desde donde se aprendió, sólo tiene
significado local.</li>
<li>Los algoritmos clasifican las rutas de acuerdo a métricas, que son números
generados a partir de variables como cantidad de saltos, velocidad de enlaces,
etc. Si dos rutas coinciden en largo de máscara y en distancia administrativa,
se elige la que tiene menor métrica. Se usa cuando hay dos rutas aprendidas
con el mismo protocolo.</li>
<li>Pueden ser protocolos</li>
</ul>
<div class="section" id="ruteo-dinamico">
<h3>Ruteo dinamico<a class="headerlink" href="#ruteo-dinamico" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li>Pueden ser IGP (Interior Gateway Protocol) o EGP (External Gateway Protocol)
dependiendo de si es interno a un sistema autónomo o no. El único EGP es BGP.</li>
<li>La distancia administrativa (grado de conocimiento y confiabilidad) depende
del protocolo, tiene un valor por defecto pero se puede cambiar:<ul>
<li>RIP: 120.</li>
<li>Redes directamente conectadas: 0.</li>
<li>Rutas estáticas: 1.</li>
<li>eBGP: 20.</li>
<li>OSPF: 110.</li>
<li>IS-IS: 115.</li>
<li>iBGP: 200.</li>
</ul>
</li>
<li>Un protocolo elige entre distintos caminos para llegar a un destino mirando
las métricas.</li>
<li>Si hay una ruta aprendidas por más de un protocolo, se elige las ruta con
menor distancia administrativa.</li>
<li>Por como funcionan los sistemas operativos de routers, en protocolos como RIP
o OSPF hay dos formas de propagar rutas directamente conectadas: usando
comandos como <code class="docutils literal"><span class="pre">network</span></code> en todas las redes y pasivando algunas si es
necesario, o usando <code class="docutils literal"><span class="pre">network</span></code> en las activas y anunciando las demás con un
comando como <code class="docutils literal"><span class="pre">redistribute</span> <span class="pre">connected</span></code>.</li>
</ul>
</div>
<div class="section" id="route-redistribution">
<h3>Route redistribution<a class="headerlink" href="#route-redistribution" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li>Para propagar rutas de un protocolo de ruteo dinamico a otro protocolo se usa
<em>Route Redistribution</em>, no es un estándar y varía un poco dependiendo de los
fabricantes.</li>
<li>En el caso de que hayan dos routers de borde, pueden ocurrir loops. Por lo
tanto una ruta recibida desde un protocolo no debe ser reinyectada en el mismo
protocolo.</li>
<li>Creo que este tema es complejo cuando se desistribuye entre dos IGP. En cambio
cuando se resistribuye entre BGP y un IGP debería ser más estándar y fácil.</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ethernet.html" class="btn btn-neutral float-right" title="Ethernet" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Teoría" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2019, Martín Bernardi.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>